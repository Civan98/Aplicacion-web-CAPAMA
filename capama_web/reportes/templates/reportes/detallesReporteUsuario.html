<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles del reporte de usuario</title>
    {% load bootstrap4 %} {# CSS Bootstrap #} {% bootstrap_css %}
    <link href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">


    <style>
        body {
            background-size: cover;
            font-family: 'poppins';
        }
    </style>

</head>

<body>

    <nav class="navbar navbar-expand-lg" style="background-color: #2465C9;">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation"> 
            <span  style="color: white; font-size: 36px;"> 
                <i class="fas fa-bars"></i>
            </span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
            <a class="navbar-brand" href="#">
                <img src="https://www.capama.gob.mx/recursos/imagenes/capama_r.png" alt="" style="width: 30%;">
            </a>
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: white;">
                        {% if cargo == 'Sobrestante' %}
                        Sobrestante

                     {% else %}
                    Administrador
                        {% endif %}
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="/logout/">Salir</a>
                        <a class="dropdown-item" href="/reportesUsuarios/">Reporte de usuarios</a>
                        <a class="dropdown-item" href="/reportesEmpleados/">Reporte de empleados</a>
                        <a class="dropdown-item" href="/registrarUsuario/">Registrar nuevo usuario</a>
                        <a class="dropdown-item" href="/registrarEmpleado/">Registrar nuevo empleado</a>
                        <a class="dropdown-item" href="/mostrarUsuarios/">Mostrar usuarios registrados</a>
                        <a class="dropdown-item" href="/mostrarEmpleados/">Mostrar empleados registrados</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>


    <div style="margin: 5%;"></div>
    {% if error %}
    <p> {{error}} </p>
    {% endif %}
    <form action="" method="post">
        {% csrf_token %}
        <div class="container">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.zona.label}}">{{datosReporte.zona.label}}</label> {{datosReporte.zona}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.tipo_anomalia.label}}">{{datosReporte.tipo_anomalia.label}}</label> {{datosReporte.tipo_anomalia}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.folio_seguimiento.label}}">{{datosReporte.folio_seguimiento.label}}</label> {{datosReporte.folio_seguimiento}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.foto.label}}">{{datosReporte.foto.label}}</label> {{datosReporte.foto}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.prioridad.label}}">{{datosReporte.prioridad.label}}</label> {{datosReporte.prioridad}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.geoLocalizacion.label}}">{{datosReporte.geoLocalizacion.label}}</label> {{datosReporte.geoLocalizacion}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.colonia.label}}">{{datosReporte.colonia.label}}</label> {{datosReporte.colonia}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.calle.label}}">{{datosReporte.calle.label}}</label> {{datosReporte.calle}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.cp.label}}">{{datosReporte.cp.label}}</label> {{datosReporte.cp}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.num_interior.label}}">{{datosReporte.num_interior.label}}</label> {{datosReporte.num_interior}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.num_exterior.label}}">{{datosReporte.num_exterior.label}}</label> {{datosReporte.num_exterior}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.descripcion.label}}">{{datosReporte.descripcion.label}}</label> {{datosReporte.descripcion}}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.fecha.label}}">{{datosReporte.fecha.label}}</label> {{datosReporte.fecha}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.id_usuario.label}}">{{datosReporte.id_usuario.label}}</label> {{datosReporte.id_usuario}}
                </div>
                <div class="form-group col-md-6">
                    <label for="{{datosReporte.estado.label}}">{{datosReporte.estado.label}}</label> {{datosReporte.estado}}
                </div>
            </div>




            <label for="selecEmpleado">Sobrestante Asignado: </label> {% if sobrestante %}
            <select name="seleccionarSobrestante" class="form-control">
            <!-- <option value="-" selected>NO ASIGNADO</option>     -->
            {% if estado == 'Nuevo' %}

                <option value="" selected>NO ASIGNADO</option> 
                {% for empleado in sobrestante %}
                    <option  value="{{empleado.id}}">{{ empleado.nombre }} {{ empleado.apellidos }} {{empleado.num_empleado}}</option> 
                {% endfor %}
            {% else %}
                {% for empleado in sobrestante %}
                    {% if idEmpleadoReporte == empleado.id %}                
                        <option value="{{empleado.id}}" selected>{{ empleado.nombre }} {{ empleado.apellidos }} {{empleado.num_empleado}}</option> 
                    {% else %}
                        <option value="{{empleado.id}}">{{ empleado.nombre }} {{ empleado.apellidos }} {{empleado.num_empleado}}</option> 
                    {% endif %}
            {% endfor %}
            {% endif%}    
        </select> {% else %}
            <p>No hay empleados</p>
            {% endif %}
            <div style="padding: 1%;">
                <input type="submit" value="Modificar" class="btn btn-warning btn-lg btn-block">
            </div>
    </form>
    </div>
    <div class="container" style="padding: 1%;">
        <a href="/reportesUsuarios/"><input type="submit" value="Cancelar" class="btn btn-secondary btn-lg btn-block"></a>
    </div>
    <h1>Sobrestantes Disponibles</h1>
    <ul>
        {% if empleadosDisponibles %} {% for empleadoDis in empleadosDisponibles %}
        <li> {{ empleadoDis }}</li>
        {% endfor %} {% else %}
        <li>No hay empleados disponibles</li>
        {% endif %}
    </ul>
    <h1>Sonbrestantes con reporte Asignado</h1>
    <ul>
        {% if empleadosEnFuga %} {% for empleadoNoDis in empleadosEnFuga %}
        <li> {{ empleadoNoDis }} </li>
        {% endfor %} {% else %}
        <li>No hay empleados con reportes Asignados</li>
        {% endif %}
    </ul>

    {% bootstrap_javascript jquery='full' %}
</body>

</html>